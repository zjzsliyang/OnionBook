# Config
## package
- Oracle.ManagedDataAccess
- Oracle.ManagedDataAccess.EntityFramework
## Web.config
check connectionString:
'''C#
  <connectionStrings>
    <add name="DefaultConnection" connectionString="Data Source=(LocalDb)\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\aspnet-OnionBookOnline-20170709102436.mdf;Initial Catalog=aspnet-OnionBookOnline-20170709102436;Integrated Security=True" providerName="System.Data.SqlClient" />
    <add name="OnionContext" providerName="Oracle.ManagedDataAccess.Client" connectionString="User Id=ONIONBOOK;Password=Database2017;Data Source=118.89.188.51/test" />
  </connectionStrings>
'''
## DAL/OnionContext.cs
check Initializer:
'''C#
	Database.SetInitializer<OnionContext>(null);
'''

# Test
Ctrl+F5 Run the program
Type in Url: ./conntest/index
If you can see the page with authors, it means that you've connected to the db successfully.

# Clean
After connecting to the db successfully
Delete
- Controller/ConnTestController.cs
- View/ConnTest

# Dev
## Models
All entity models in db has been prepared.
See Models/*.cs for more info.
e.g.
'''C#
	public class EXAMPLE {
		[Key]
		[Maxlength(128)]
		[Column(TypeNanme = "varchar2")]
		public string ID;
		
		[Maxlength(128)]
		[Column(TypeNanme = "varchar2")]
		public string NAME;
	}
'''
## DAL/OnionContext
ALL entity models are put in to OnionContext representing a table in db.
e.g.
'''C#
	public class OnionContext : DbContext
	{
		...
		DbSet<EXAMPLE> examples { get; set; }
		...
	}
'''
## Controller
Assume that we have a page named Example with Index, About
So in folder 'View' we have folder 'Example', under which are Index.cshtml and About.cshtml
Then we create a controller.
e.g.
'''C#
	public class ExampleController : Controller
	{
		public ActionResult Index()
		{	
			var exampleVM = new ExampleViewModel();
			
			using (var context = new OnionContext())
			{
				// Operate the db with context.examples
				// Modify exampleVM
			}
			
			return View(exampleVM)
		}
		
		public ActionResult About()
		{
			...
		}
	}
'''
## ViewModel
new a class ExampleViewModel in folder 'Models'
'''C#
	public class ExampleViewModel
	{
		List<EXAMPLE> exs;
	}
## View
On the top of the page, add the following line:
@model ExampleViewModel

  
